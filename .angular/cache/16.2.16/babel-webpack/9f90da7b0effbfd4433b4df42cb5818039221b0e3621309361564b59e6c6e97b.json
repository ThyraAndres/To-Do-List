{"ast":null,"code":"import _asyncToGenerator from \"C:/Work/ToDoList/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { initializeApp } from 'firebase/app';\nimport { getRemoteConfig, fetchAndActivate, getValue } from 'firebase/remote-config';\nimport { environment } from '../../environments/environment';\nimport * as i0 from \"@angular/core\";\nlet FirebaseService = /*#__PURE__*/(() => {\n  class FirebaseService {\n    constructor() {\n      this.initializeFirebase();\n    }\n    initializeFirebase() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        try {\n          const app = initializeApp(environment.firebase);\n          _this.remoteConfig = getRemoteConfig(app);\n          _this.remoteConfig.settings.minimumFetchIntervalMillis = 60000; // 1 minute for testing\n          // Set default values\n          _this.remoteConfig.defaultConfig = {\n            'show_categories_feature': true,\n            'max_tasks_per_category': 50,\n            'enable_dark_theme': false\n          };\n          console.log('Firebase initialized successfully');\n          yield _this.fetchRemoteConfig();\n        } catch (error) {\n          console.error('Firebase initialization error:', error);\n        }\n      })();\n    }\n    fetchRemoteConfig() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        try {\n          yield fetchAndActivate(_this2.remoteConfig);\n          console.log('Remote Config fetched successfully');\n          console.log('Categories feature:', _this2.getFeatureFlag('show_categories_feature'));\n        } catch (error) {\n          console.error('Error fetching remote config:', error);\n        }\n      })();\n    }\n    getFeatureFlag(key) {\n      try {\n        const value = getValue(this.remoteConfig, key);\n        return value.asBoolean();\n      } catch (error) {\n        console.error('Error getting feature flag:', error);\n        return false;\n      }\n    }\n    getRemoteConfigValue(key) {\n      try {\n        const value = getValue(this.remoteConfig, key);\n        return value.asString();\n      } catch (error) {\n        console.error('Error getting remote config value:', error);\n        return '';\n      }\n    }\n    static {\n      this.ɵfac = function FirebaseService_Factory(t) {\n        return new (t || FirebaseService)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: FirebaseService,\n        factory: FirebaseService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return FirebaseService;\n})();\nexport { FirebaseService };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}